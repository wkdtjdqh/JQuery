<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
		<link href="../css/public.css" rel="stylesheet">
		<script type="text/javascript">
			function proc1(){
				now = new Date();
				str = prompt("주민등록번호를 입력하세요.", "200904-1442334");
				
				a = str.charAt(7);
				if (a == 1 || a == 2) {
					y = 19;
				} else {
					y = 20;
				}
				birth = y + str.substr(0, 2) + "년 " + str.substr(2, 2) + "월 " + str.substr(4, 2) + "일<br>" 
				age = now.getFullYear()-(y+str.substr(0, 2)) + 1;
				if (a == 1 || a == 3) {
					aa = "남자";
				} else if (a == 2 || a == 4) {
					aa = "여자";
				} else aa = "?";
				
				res = "주민등록번호 : " + str + "<br>생일 : " + birth + "성별 : " + aa + ", 나이 : " + age;
				
				document.querySelector('#result1').innerHTML = res;
			}
			function proc2(){
				str = prompt("주민등록번호를 입력하세요.", "200904-1442334");
				str2 = "234567892345";
				sum = 0; num = 0;
				for(i=0; i<str.length-1; i++){
					if(str.charAt(i) == '-'){
						continue;
					} 
					sum += str.charAt(i) * str2.charAt(num);
					num++;
				}
				
				val = sum % 11;
				val = 11 - val;
				
				if(0 <= val && val <= 9){
					result = val;
				}else if(val == 10){
					result = 0;
				}else if(val == 11){
					result = 1;
				}
				
				if(result == str.charAt(13)){
					res = "유효한 주민등록번호입니다.";
				} else res = "유효하지 않은 주민등록번호입니다.";
				
				document.querySelector('#result2').innerHTML = res;
			}
		</script>
	</head>
	<body>
		<div class="box">
			<h3>String 연습</h3>
			주민등록번호를 입력받아 생년월일과 성별을 출력하는 프로그램을 작성하시오.<br>
			예) 110326-4432618<br>
			생일 : 2011년 3월 26일<br>
			성별 : 여자, 나이 : 10<br>
			<input type="button" value="확인" onclick="proc1()">
			<div id="result1"></div>
		</div>
		<div class="box">
			<h3>String 연습2</h3>
			주민등록번호를 입력받아 유효성을 검사하는 프로그램을 작성하시오.<br>
			1. A*2 + B*3 + ... + H*9 + I*2 + ... + L*5 의 총합을 구한다.<br>
			2. 1번의 합을 11로 나눈 나머지를 구한다.<br>
			3. 11에서 2번의 결과를 뺀다.<br>
			4. 3번의 결과가 0~9이면 값 그대로, 10이면 0, 11이면 1로 변환<br>
			5. 4번의 결과와 M자리의 값이 같으면 맞는 번호이다<br>
			<input type="button" value="확인" onclick="proc2()">
			<div id="result2"></div>
		</div>
	</body>
</html>